import socketfrom threading import Threadfrom datetime import datetimeimport tkinterfrom chat_tcp_server import chatGuiclass ChatClient:    def __init__(self, serverPort=5111, serverIP="0.0.0.0"):        self.clientSocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)        self.clientSocket.settimeout(60)        self.serverIP = serverIP        self.serverPort = serverPort        self.clientSocket.connect((self.serverIP, self.serverPort))        print('chat has been started : \n')    def start_chat(self):        while True:            sentence = input("for finishing the chat, please type <finish chat>: \n")            self.clientSocket.send(sentence.encode())            data = self.clientSocket.recv(1024)            print('From Server: ', data.decode())            if data.decode() == "<finish chat>":                self.clientSocket.close()                break        return 0    def receive(self):        """Handles receiving of messages."""        while True:            try:                msg = self.clientSocket.recv(1024).decode("utf8")                msg_list.insert(tkinter.END, msg)            except OSError:  # Possibly client has left the chat.                break    def send(self, event=None):  # event is passed by binders.        """Handles sending of messages."""        msg = my_msg.get()        my_msg.set("")  # Clears input field.        self.clientSocket.send(bytes(msg, "utf8"))        if msg == "{quit}":            self.clientSocket.close()            top.quit()    def on_closing(self, event=None):        """This function is to be called when the window is closed."""        my_msg.set("{quit}")        self.send()top = tkinter.Tk()top.title("Chatter")messages_frame = tkinter.Frame(top)my_msg = tkinter.StringVar()  # For the messages to be sent.my_msg.set("Type your messages here.")scrollbar = tkinter.Scrollbar(messages_frame)  # To navigate through past messages.# Following will contain the messages.msg_list = tkinter.Listbox(messages_frame, height=15, width=50, yscrollcommand=scrollbar.set)scrollbar.pack(side=tkinter.RIGHT, fill=tkinter.Y)msg_list.pack(side=tkinter.LEFT, fill=tkinter.BOTH)msg_list.pack()messages_frame.pack()chatClient = ChatClient()entry_field = tkinter.Entry(top, textvariable=my_msg)entry_field.bind("<Return>", chatClient.send)entry_field.pack()send_button = tkinter.Button(top, text="Send", command=chatClient.send)send_button.pack()top.protocol("WM_DELETE_WINDOW", chatClient.on_closing)receive_thread = Thread(target=chatClient.receive)receive_thread.start()tkinter.mainloop()